input

Once upon a time, there was a humble cat named Tom. Tom lived in a small house with his friend, Jane. One day, Jane had a gift for Tom. She put the gift on the table and said, "Tom, I have something for you."
Tom stared at the gift, excited to see what was inside. He opened the gift and found a new toy. Tom and Jane played with the toy all day. They were very happy.
But then, a big dog came into their house. The dog saw the toy and wanted it too. The dog took the toy away from Tom and Jane. They were very sad. The dog left with the toy, and Tom and Jane could not play with it anymore.

domain

(define (domain cat-and-dog)
  (:requirements :adl :domain-axioms :intentionality)
  (:types character place - object toy - item)
  (:predicates
    (has ?character - character ?item - item)
    (happy ?character - character)
    (sad ?character - character)
    (at ?character - character ?place - place)
  )

  ;; A character receives a gift.
  (:action receive-gift
    :parameters
      (?receiver - character ?giver - character ?item - item)
    :precondition
      (and (not (= ?receiver ?giver))
      (happy ?giver)
      (not (has ?receiver ?item))
      (has ?giver ?item))
    :effect
      (and (has ?receiver ?item)
      (happy ?receiver))
    :agents
      (?receiver ?giver)
  )

  ;; A character plays with a toy.
  (:action play
    :parameters
      (?character - character ?item - item)
    :precondition
      (and (has ?character ?item)
      (not (sad ?character)))
    :effect
      (happy ?character)
    :agents
      (?character)
  )

  ;; A character takes a toy from another character.
  (:action take-toy
    :parameters
      (?taker - character ?victim - character ?item - item)
    :precondition
      (and (not (= ?taker ?victim))
      (has ?victim ?item)
      (not (has ?taker ?item)))
    :effect
      (and (not (has ?victim ?item))
      (has ?taker ?item)
      (sad ?victim))
    :agents
      (?taker)
  )

  ;; A character loses a toy.
  (:action lose-toy
    :parameters
      (?character - character ?item - item)
    :precondition
      (and (has ?character ?item)
      (happy ?character))
    :effect
      (and (not (has ?character ?item))
      (sad ?character))
    :agents
      (?character)
  )
)

problem

(define (problem cat-dog-toy)
  (:domain
    cat-and-dog)
  (:objects
    tom jane dog - character
    toy - item
    house - place)
  (:init
    (at tom house)
    (at jane house)
    (at dog house)
    (happy jane)
    (has jane toy)
    (intends jane (happy tom))
    (intends tom (happy tom))
    (intends dog (has dog toy)))
  (:goal
    (and (sad tom)
    (sad jane)
    (has dog toy))
  )
)

solution

(define (plan cat-dog-toy-solution)
  (:problem cat-dog-toy)
  (:steps (take-toy tom jane toy)
          (non-executed (play tom toy))
          (take-toy dog tom toy)))

pd

<|story|>

It was a bright summer afternoon in a cozy little house where Tom, Jane, and their pet dog lived happily together.

Jane had just bought a new toy, a colorful and intriguing little thing, bringing it home with joy and pride. She was eager to share her excitement and joy with her housemates. Their dog watched from a corner of the room, eyes wide with curiosity and anticipation.

Tom, for his part, had been in a rather cheerful mood, sitting on the couch, flipping through a book, a warm cup of tea in hand. When he saw Jane and the toy, he couldn't help but feel his spirits lifted even more.

Jane, pleased that she was able to brighten up Tom's day, decided to bring the toy over to him, hoping that it would put an even bigger smile on his face. Just as she was about to hand it to him, though, the dog – who had been observing them intently – quickly leapt forward and snatched the toy right out of Jane's hands.

Taken aback, Jane and Tom both stared at the triumphant dog, who wagged its tail and pranced around, reveling in its newfound possession. Tom and Jane, meanwhile, couldn't help but feel a wave of sadness wash over them. They had lost their treasured toy to the rambunctious dog, who now seemed to have every intention of guarding it zealously.

Despite their sadness, Tom and Jane couldn't help but marvel at the dog's happiness, as it wagged its tail and played around with the toy, seemingly without a care in the world. They knew that, even though they were sad, at least their beloved pet was content. And sometimes, that was enough.

pdp

<|story|>

Tom the cat lounged around in the cozy little house he shared with Jane the dog and their owner. Jane, a happy and energetic dog, loved to play with her favorite toy. Tom was often jealous of Jane's happiness, and he resented not having a toy to call his own.

One day, Jane felt particularly generous, and she decided it was time to share her joy with Tom. She gently placed her toy in front of Tom with the hope that he could finally be happy. Unfortunately, Tom's jealousy got the better of him. Tom swooped in, snatched the toy away from Jane, and immediately felt a surge of happiness.

Jane, crestfallen by Tom's actions, couldn't help but feel sad. Tom sensed this and knew he should try to make amends. As Tom prepared to play with the toy in front of Jane, hoping to bring joy back into their home, their sneaky canine housemate, Dog, saw an opportunity.

Quick as a flash, Dog snatched the toy away from Tom, leaving him empty-pawed and feeling utterly dejected. Dog happily pranced around the house with his newfound treasure, feeling victorious.

In the end, Tom and Jane were left feeling sad, while Dog reveled in the triumph of having captured the much-coveted toy. An unexpected turn of events where everyone's intentions were revealed, and life in the house would never be quite the same.

